<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz | Codestorm</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <link rel="stylesheet" href="style.css">

</head>

<body class="d-flex  text-dark bg-dark">


    <div class="cover-container d-flex w-100 h-100 p-3 mx-auto flex-column">
        <header class="mb-2 text-center">
            <div>
                <h3 class="float-md-start mb-0 text-white">Codestorm</h3>
                <nav class="nav nav-masthead justify-content-center float-md-end">
                    <a class="nav-link active text-white" aria-current="page" href="#">Quiz</a>
                </nav>

            </div>
        </header>
        <div class="container-lg bg-info text-dark text-center w-50 te mt-5  rounded-3  p-2 ">
            <div class=" inline  ">Time left : <span id="clock" class="text-center fw-bold"></span></div>
        </div>

        <!--This is the main body -->
        <main class="px-3  m-auto">


    </div>
    <div class="main-div">
        <div class="inner-class">

            <div class="quiz_box   activeQuiz rounded-3">
                <h2 class=" p-2 ps-4 question" id="question">Question comes here.</h2>
                <ul class="list-group p-2 ms-3 d-grid gap-3 text-start" type="none">
                    <li>
                        <input type="radio" class="btn-check text-start answer" name="answer" id="ans1"
                            autocomplete="off" placeholder="answer">
                        <label for="ans1" id="opt1" class="btn option answer text-start w-100"> Answer Option 1</label>
                    </li>
                    <li>
                        <input type="radio" class="btn-check answer text-start " name="answer" id="ans2"
                            autocomplete="off">
                        <label for="ans2" id="opt2" class="btn option w-100 text-start"> Answer Option 2</label>
                    </li>

                    <li>
                        <input type="radio" class="btn-check answer option form-check-input" name="answer" id="ans3"
                            autocomplete="off">
                        <label for="ans3" id="opt3" class="  btn w-100 option text-start"> Answer Option 3</label>
                    </li>

                    <li>
                        <input type="radio" class="btn-check answer form-check-input" name="answer" id="ans4"
                            autocomplete="off">
                        <label for="ans4" id="opt4" class="w-100 btn option text-start"> Answer Option 4</label>
                    </li>
                </ul>
                <footer class="mt-4 text-dark text-center ">
                    <div class=""></div>
                    <button id="submit" class="submit fw-bold btn btn-success w-100 shadow">Next</button>
                    <input type="button" value="savedata" id="savedata" onclick="savedata();">
                    <script type="module">
                        //import through cdn check the version
                        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.4.0/firebase-app.js";
                        import { getFirestore, doc, getDoc, getDocs, collection, addDoc } from "https://www.gstatic.com/firebasejs/9.4.0/firebase-firestore.js";
                        // firebase config updated.. for web 9
                        const firebaseConfig = {
                            apiKey: "AIzaSyA2IJxHPvx_YRXBT8TU0jRJws-RpbB4nWo",
                            authDomain: "codestrom-b31c4.firebaseapp.com",
                            projectId: "codestrom-b31c4",
                            storageBucket: "codestrom-b31c4.appspot.com",
                            messagingSenderId: "379140324528",
                            appId: "1:379140324528:web:26cc01c20583605e228f75",
                            measurementId: "G-J5L4RJLQ0Q"
                        };
                        // Initialize Firebase
                        const app = initializeApp(firebaseConfig);
                        // Initialize Cloud Firestore and get a reference to the service
                        const db = getFirestore(app);

                        //start db
                        // get username for current user
                        var username = localStorage.getItem("name");
                        var useremail = localStorage.getItem("email");
                        var userphone = localStorage.getItem("phone");
                        var userscore = localStorage.getItem("score");
                        //declaring colection with onclick function
                         var save = document.getElementById("savedata");
                        save.onclick = function savedata() {
                            try {
                                const docRef = addDoc(collection(db, "users"), {
                                    name: username,
                                    email: useremail,
                                    phone: userphone,
                                    score: userscore
                                });
                                console.log("Document written with ID: ", docRef.id);
                            } catch (e) {
                                console.error("Error adding document: ", e);
                            }
                        }




                    </script>
            </div>
            </footer>
        </div>
    </div>


    </main>

    <script src="script.js"></script>
</body>

</html>